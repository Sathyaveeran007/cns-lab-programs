def affine_encrypt(text, a, b):
    def mod_inverse(a, m):
        for i in range(1, m):
            if (a * i) % m == 1:
                return i
        return None

    if mod_inverse(a, 26) is None:
        raise ValueError("a and 26 are not coprime")

    result = ''
    for char in text.lower():
        if char.isalpha():
            p = ord(char) - ord('a')
            c = (a * p + b) % 26
            result += chr(c + ord('a'))
        else:
            result += char
    return result

print(affine_encrypt("hello", 5, 8))  # Affine Cipher with a=5, b=8
